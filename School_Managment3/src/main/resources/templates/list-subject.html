<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:insert="fragments :: headerfiles">
</head>

<body>
	<div th:replace="fragments :: header"></div>
	

	<div th:replace="fragments :: aside">
	</div>
	
	 <main class="main">
        <div class="u-wrapper">            
            <h3 class="form-title">Materias disponibles</h3>
            <!--Busqueda-->
        	<div>	
        	 <form th:action="@{/materia/busqueda}" method="POST"
					th:object="${form}" class="form">
                <h3 class="form-title">Busqueda de Materias</h3>
                <div class="form-group">
                    <div class="form-item">
                        <label for="nombres">Nombre: </label>
                        <input placeholder="Ej: Lengua" type="text" id="nombres" th:field="*{name}">
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-item">
                    	<label for="curso">Curso: </label>
						<select id="curso"
							th:field="*{course.name}"
							class="form-control">
							<option value="">Seleccionar</option>
							<option value="1º">1º</option>
							<option value="2º">2º</option>
							<option value="3º">3º</option>
							<option value="4º">4º</option>
							<option value="5º">5º</option>
						</select>
                    </div>      
                    <div class="form-item">
                    	<label for="ciclo">Ciclo: </label>
						<select id="ciclo"
							th:field="*{course.ciclo}"
							class="form-control">
							<option value="">Seleccionar</option>
							<option value="Basico">Basico</option>
							<option value="Superior">Superior</option>
						</select>
                    </div>                   
                                 
                    
                </div>
                                             
                <button type="submit" class="form-btn">Buscar</button>
            </form>
        	</div>
            <div class="card-container">
	            <div class="card" th:each="sub : ${subjects}">
	            <img src="https://images.unsplash.com/photo-1532622785990-d2c36a76f5a6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80" class="card-img-top" width="100%"
							alt="Materia disponible" title="Materia" > 
	            	<div class="card-body">
	            		<div class="card-text">
		            		<p class="card-p" th:text="'Materia: ' + ${sub.name}"></p>
		            		<p class="card-p" th:text="'Curso: ' + ${sub.subjectCourse[0].course.name}"></p>
		            		<p class="card-p" th:text="'Ciclo: ' + ${sub.subjectCourse[0].course.ciclo}"></p>
	            		</div>
						<a th:if= "${not #lists.isEmpty(sub.subjectCourse[0].course.coursePeriod)}" class="card-btn" th:href="@{/materia/detalles/}+ ${sub.id}+'/'+ ${sub.subjectCourse[0].course.id}+'/'+${sub.subjectCourse[0].course.coursePeriod[__${#lists.size(sub.subjectCourse[0].course.coursePeriod) - 1}__].period}" role="button">Ver detalles</a>
	            		<p th:unless= "${not #lists.isEmpty(sub.subjectCourse[0].course.coursePeriod)}" class="card-p">No hay estudiantes</p>
	            	</div>
	            </div>         
            </div>
        </div>
    </main>
    
    <script th:src="@{/js/app.js}"></script>

</body>

</html>